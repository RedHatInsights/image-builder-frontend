{
   "metadata": {
      "name": "insights-launch-aws",
      "instructional": true
   },
   "spec": {
      "displayName": "Launch an Amazon Web Service image",
      "durationMinutes": 10,
      "type": {
         "text": "Quick start",
         "color": "green"
      },
      "icon": "data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj4KPHRpdGxlPjwvdGl0bGU+CjxnIGlkPSJpY29tb29uLWlnbm9yZSI+CjwvZz4KPHBhdGggZD0iTTQ0OCA2NHY0MTZoLTMzNmMtMjYuNTEzIDAtNDgtMjEuNDktNDgtNDhzMjEuNDg3LTQ4IDQ4LTQ4aDMwNHYtMzg0aC0zMjBjLTM1LjE5OSAwLTY0IDI4LjgtNjQgNjR2Mzg0YzAgMzUuMiAyOC44MDEgNjQgNjQgNjRoMzg0di00NDhoLTMyeiI+PC9wYXRoPgo8cGF0aCBkPSJNMTEyLjAyOCA0MTZ2MGMtMC4wMDkgMC4wMDEtMC4wMTkgMC0wLjAyOCAwLTguODM2IDAtMTYgNy4xNjMtMTYgMTZzNy4xNjQgMTYgMTYgMTZjMC4wMDkgMCAwLjAxOS0wLjAwMSAwLjAyOC0wLjAwMXYwLjAwMWgzMDMuOTQ1di0zMmgtMzAzLjk0NXoiPjwvcGF0aD4KPC9zdmc+Cg==",
      "description": "Learn how to add an Amazon Web Service source and launch an image.",
      "introduction": "Welcome to the quick start for launching an Amazon Web Service (AWS) image.\n\nIn this quick start, you learn how to add or edit &nbsp;[AWS sources] (https://console.redhat.com/beta/settings/sources), create an image, and launch it all on the Red Hat Hybrid Cloud Console.",
      "tasks": [
         {
            "title": "Add or edit an AWS Source",
            "description": "\nA source must be configured to connect your AWS account to Hybrid Cloud Console to launch an Image. Create a new source or edit an existing one.\n<br>\n<br>\n\n<h4 id=\"add-aws-source\"><b>Add an AWS Source:</B></h4> \n\n1. Click the Settings <i class=\"fas fa-cog\"></i> icon in the top right corner.\n\n1. In Settings, click **Sources** in the left menu.\n\n1. Click **Add source**.\n\n1. On the \u201cSelect source type\u201d step:\n\n      - **Cloud provider:** Select Amazon Web Services.\n\n      - Click **Next.**\n\n1. On the \u201cName source\u201d step:\n      \n      - **Name:** Enter a name for your source\n      \n      - Click **Next**.\n\n1. On the \u201cSelect configuration\u201d step:\n\n      - **Select a configuration mode:** use Account authorization \n      \n      - **Access key ID & Secret access key:** Enter this information from your AWS account.\n\n          - In a different tab, access AWS [Security settings.](https://console.aws.amazon.com/billing/home#/account?nc2=h_m_ma) \n\n          - Create a [root access key](https://docs.aws.amazon.com/accounts/latest/reference/root-user-access-key.html) or an IAM user with an access key.\n\n          - Return to the \u201cSelect configuration\u201d step in Sources in Hybrid Cloud Console.\n\n          - Add the access key data.\n\n    - Click **Next**.\n\n1. On the \u201cSelect applications\u201d step:\n\n    - Toggle \u201cLaunch images\u201d to **on**.\n    \n    - Click **Next**.\n\nIt will take a few moments to apply the configuration.    \n<br>\n\n\n<h4 id=\"edit-aws-source\"><b>Edit an existing AWS Source:</B></h4>\n\n1. Click the Settings icon in the top right corner.\n\n1. In Settings, click **Sources** in the left menu.\n\n1. Locate your existing AWS source in the cloud sources table\n\n1. Click **the existing source\u2019s name** to go to its details.\n\n1. Locate the \u201cApplications\u201d card.\n\n1. Toggle \u201cLaunch images\u201d to **on**.\n<br>\n<br>\n\nIt will take a few moments to apply the configuration.\n<br>\n<br>",
            "review": {
               "instructions": "- Did you complete the task successfully?",
               "failedTaskHelp": "This task isn't verified yet. Try the task again."
            },
            "summary": {
               "success": "Shows a success message in the task header",
               "failed": "Shows a failed message in the task header"
            }
         },
         {
            "title": "Use Image Builder to build an AWS image",
            "description": "Let's use the updated source to create a new AWS image or recreate an existing one.\n<br>\n<br> \n\n<h4 id=\"ib-aws-new-image\"><b>Build a new AWS Image:</B></h4>\n\n1. Navigate to **Images** in the left menu.\n\n1. On the Images page, click **Create Image**.\n\n1. On the \u201cImage Output\u201d step:\n\n    - **Release:** Select Red Hat Enterprise Linux (RHEL) 8  \n\n    - **Target Environments:** Select Amazon Web Services.\n\n    - Click **Next.**\n          \n1. On the \"Target Environment - Amazon Web Services\" step:\n    \n    - **Use an account configured from Sources:** Select an AWS source saved on the console. Choose the recently created or edited AWS source.\n             \n    - Click **Next.**.\n          \n1. On the \u201cRegister\u201d step:\n\n    - **Registration method:** Select \u201cRegister and connect image instances with Red Hat.\u201d\n    \n    - **Activation key:** Select an activation key available to the account.\n    \n    - Click **Next.**\n\n1. On the \u201cFile system Configuration\u201d step:\n    \n    - Use automatic partitioning\n    \n    - Click **Next.**  \n\n1. On the \u201cContent - Additional Red Hat Packages\u201d step:\n    \n    - Search and add the following packages:\n        \n        - Podman\n        \n        - Rhc\n        \n        - Rhc-worker-playbook\n        \n        - Ansible-core\n    \n    - Click **Next.**\n\n1. On the \u201cContent - Custom Repositories\u201d step:\n\n    - Custom repositories are not required to launch\n                    \n    - Click **Next.**\n\n1. (Optional) On the \"Content - Additional custom packages\" step\n   \n    - Custom repository packages are not required to launch. This step is available if you linked a custom repository in the previous step.\n       \n    - Click **Next.**\n\n1. On the \u201cName Image\u201d Step:\n    \n    - **Name:** Enter a name for the image\n    \n    - Click **Next.**\n\n1. Review the configuration and click **Create Image.**\n\nNote: Building the image can take some time.\n<br>\n<br>\n\n<h4 id=\"ib-aws-recreate-image\"><b>Use Image Builder to recreate an existing AWS image:</B></h4>\n\n1. Navigate to **Images** in the left menu.\n\n1. Locate your existing AWS image in the Images table.\n\n1. Click the \u201cMore actions\u201d ellipsis <i class=\"fas fa-ellipsis-v\"></i> icon at the end of the row. \n\n1. Click **Recreate Image.**\n\n1. A \"Create image\" wizard opens on the \"Review\" step with previous configuration added to the image.\n\n1. Click on the **Target environment - Amazon Web Services** step.\n\n1. On the \"Target Environment - Amazon Web Services\" step:\n\n    - **Use an account configured from Sources:** Select an AWS source saved on the console. Choose the recently created or edited AWS source.\n<br>\n<br>\n\n\n1. Return to the **Review** step.\n\n1. Click **Create Image.**\n\nNote: Building the image can take some time.\n<br>\n<br>",
            "review": {
               "instructions": "- Did you complete the task successfully?",
               "failedTaskHelp": "This task isn't verified yet. Try the task again."
            },
            "summary": {
               "success": "Shows a success message in the task header",
               "failed": "Shows a failed message in the task header"
            }
         },
         {
            "title": "Launch an instance in the AWS environment.",
            "description": "Now let\u2019s use our new AWS image to launch an environment from the console.\n<br>\n\n<h4 id=\"ib-aws-launch\"><b>Launch an instance in the AWS environment:</B></h4>\n\n1. Navigate to **Images** in the left menu.\n\n1. Locate an image created with an AWS source.\n\n    - The image type is displayed in the \u201cTarget\u201d column.\n\n    - Note: The source must be configured to launch instances. See Add or Edit an AWS Source.\n\n1. From the \u201cInstance\u201d column, click **Launch.**\n\n1. In the \"Accounts and Customizations | Amazon\" step:\n\n    - **Select account:**  \u201cYour source\u201d will be displayed.\n\n    - **Select region:** Use the default region, \u201cus-east-1.\u201d\n\n    - **Select instance type:** Select \u201ct2.medium.\u201d\n\n    - **Count:** Leave the number of instances you want to instantiate at 1. \n\n    - Click **Next.**\n\n1. In the \"SSH keys authentication\" step:\n\n    - Enter your own public SSH key for authentication.\n\n    - Click **Next.**\n\n1. Review the details and click **Launch.** \n\n1. Wait for the system to launch the new instances.\n\n1. After the Launch wizard shows the \"System(s) launched successfully\" message:\n    \n    - You can either click the Host URL link under ID or save the Host Instance ID link for later reference.\n    \n    - After you click the link from the Host card, the AWS console screen displays the Instance summary for the launched image.\n\n    - You can find the public IP address that you can use to access the running instance.\n\n    - You can also copy the SSH command to access your instance via SSH in the CLI.\n\nAll launched systems will register with Red Hat and appear in the [Inventory] (https://console.redhat.com/beta/insights/inventory).\n\nA system's visibility in the console is based on the registration level selection during image creation. We have selected  \u201cRegister and connect image instances with Red Hat.\u201d \n\nNote that the newly launched instances will take several minutes to show in the inventory.\n<br>",
            "review": {
               "instructions": "- Did you complete the task successfully?",
               "failedTaskHelp": "This task isn't verified yet. Try the task again."
            }
         }
      ],
      "conclusion": "\n<h4><b>Thank you for taking the time to explore this feature!</b></h4> \n\nWe would love to learn more about your experience launching AWS images on the console. \n\n\n<br>\n**<a id=\"qs-ib-aws-launch-contact\">Let Red Hat contact you <i class=\"fas fa-arrow-right\"></i> </a>**\n<br>\n<br>\n<br>\n\nIf you need additional assistance:\n  \n - [Open a support case](https://access.redhat.com/support).",
      "nextQuickStart": [
         "mas-alert-note-prereq"
      ]
   }
}
